<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Rock Paper Scissors</title>
</head>
<body>
    <div>
        <p>
            <h1>
                <u>Rock Paper Scissors game</u>
            </h1>
        </p>
        <p>
            Open the browser console to play! (F12 or CTRL+SHIFT+I)
        </p>
        <p>
            Type <code>game()</code> in the console and hit Enter to start.
        </p>
    </div>

    <script>
        // Randomly return rock, paper, or scissors
        function computerPlay() {
            var choices = ['Rock', 'Paper', 'Scissors'];
            return choices[Math.floor(Math.random() * 3)];
        }

        // Play one round of Rock Paper Scissors. Print result of the game
        // return 1 on win, 2 on tie, 3 on loss, -1 on error
        function playRound(playerSelection, computerSelection) {
            pChoice = playerSelection.trim().toLowerCase();
            cChoice = computerSelection.trim().toLowerCase();
            if (pChoice === "rock") {
                if (cChoice === "rock") {
                    console.log("Tie!");
                    return 2;
                }
                else if (cChoice === "paper") {
                   console.log("You lose! Paper beats rock.");
                   return 3;
                }
                else if (cChoice === "scissors") {
                    console.log("You win! Rock beats paper.");
                    return 1;
                }
            }
            else if (pChoice === "paper") {
                if (cChoice === "rock") {
                    console.log("You win! Paper beats rock.");
                    return 1;
                }
                else if (cChoice === "paper") {
                    console.log("Tie!");
                    return 2;
                }
                else if (cChoice === "scissors") {
                    console.log("You lose! Scissors beats paper.");
                    return 3;
                }
            }
            else if (pChoice === "scissors") {
                if (cChoice === "rock") {
                    console.log("You lose! Rock beats paper.");
                    return 3;
                }
                else if (cChoice === "paper") {
                    console.log("You win! Scissors beats paper.");
                    return 1;
                }
                else if (cChoice === "scissors") {
                    console.log("Tie!");
                    return 2;
                }
            }
            else {
                console.log("Error- Did you type in rock, paper, or scissors?");
                return -1;
            }
        }

        function getWinner(playerScore, computerScore) {
            if (playerScore > computerScore) {
                return "You win!"
            }
            else if (playerScore < computerScore) {
                return "Computer wins!"
            }
            else {
                return "Tie!"
            }
        }

        // Play <rounds> rounds of rock-paper-scissors using prompt and the console
        function game() {
            const rounds = 5;
            var playerScore = 0;
            var computerScore = 0;
            for (i = 0; i < rounds; i++) {
                console.log("Round #" + Number(i+1) + "/" + rounds + ":");
                var playerSelection = prompt("Rock, paper, or scissors?");
                var computerSelection = computerPlay();
                var result = playRound(playerSelection, computerSelection);
                // Win
                if (result === 1) {
                    playerScore++;
                }
                // Lose
                else if (result === 3) {
                    computerScore++;
                }
                // Error
                else if (result === -1) {
                    // Redo that round
                    i--;
                }
            }
            console.log(getWinner(playerScore, computerScore));
            console.log("Your score: " + playerScore);
            console.log("Computer's score: " + computerScore);
        }

        // Start the game
        //game();
        
    </script>
    
</body>
</html>
